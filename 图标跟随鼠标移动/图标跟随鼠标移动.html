<!DOCTYPE html>
<html lang="cmn-hans">

<head>
    <meta charset="utf-8">
    <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <!-- some meta tags, important for SEO"-->
    <meta name="description" content="put a short description in here" />
    <meta name="keywords" content="put your important keywords in here" />
    <title>图标跟随鼠标移动</title>
    <style type="text/css">
    * {
        margin: 0;
        padding: 0;
        border: 0;
    }


    .box {
        color: #fff;
        width: 100px;
        height: 100px;
        line-height: 100px;
        border-radius: 100px;
        background: #000;
        text-align: center;

        position: absolute;
        top: 10px;
        left: 20px;
    }
    </style>
    <script type="text/javascript">
    window.onload = function() {
        var obj = document.getElementsByTagName('div')[0];

        obj.onmousedown = function() {
            //鼠标按下会改变CSS
            obj.style.background = "#fff";
            obj.style.color = '#000';
            obj.style.border = '1px solid #ccc';

            document.onmousemove = function(ev) {
                // ev 为标准浏览器的事件对象  window.event 是IE标准
                var e = ev || window.event;
                var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
                var scrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft;
                // 鼠标在当前整个页面的坐标位置
                // X轴 ： e.clientX+scrollLeft+"px"
                // Y轴 ： e.clientY+scrollTop+"px"
                //鼠标坐标位置赋给obj,obj则移动到那里
                obj.style.left = e.clientX + scrollLeft + "px";
                obj.style.top = e.clientY + scrollTop + "px";
            };

        };

        //鼠标松开之后，盒子固定位置
        document.onmouseup = function() {
            //样式还原
            obj.style.background = "#000";
            obj.style.color = '#fff';
            obj.style.border = '0';
            //置空其他动作
            document.onmousemove = document.onmouseup = null;
        };



    };
    </script>
</head>

<body>
    <div class="box">图标移动</div>
</body>

</html>
